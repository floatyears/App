// ------------------------------------------------------------------------------
//  <autogenerated>
//      This code was generated by a tool.
//      Mono Runtime Version: 4.0.30319.1
// 
//      Changes to this file may cause incorrect behavior and will be lost if 
//      the code is regenerated.
//  </autogenerated>
// ------------------------------------------------------------------------------
using System;
using UnityEngine;

public enum DBModel {
    UserInfo = 1001,
    Options,
}

public class DBManager:MonoBehaviour
{
    private const string DB_SECRET = "#%WDssdferG*";
    private const string DB_NAME = "bigbang";
    private const string USER_INFO_TABLE = "p003";

    private static DBManager instance;
    private SqliteDBHelper dbHelper;


    public static DBManager Instance
    {
        get
        {
            if(instance  == null){
                instance = new DBManager();
                instance.Init();
            }
            return instance;
        }
    }

    /// <summary>
    /// Init this instance
    /// </summary>
    public void Init(){
        dbHelper = new SqliteDBHelper(String.Format("Data Source=./{0}.db", DB_NAME), DB_SECRET);
    }

    /// <summary>
    /// Free DB, close connection
    /// </summary>
    public void Free(){
        dbHelper.CloseSqlConnection();
    }

    /// <summary>
    /// Raises the destroy event.
    /// </summary>
    public void OnDestroy (){
        LogHelper.Log("DBManager on Destroy");
        Free();
    }

}

